{% extends 'base.html.twig' %}

{% block title %}User index{% endblock %}
{% block stylesheets %}
<link rel="stylesheet" href="{{asset('css/user_global.css')}}">
<link rel="stylesheet" href="{{asset("css/user_edit.css")}}">
{% endblock %}
{% block body %}
<div class="dash_container">
    <div class="text">
        <h1>Oh, Hello {{username}}!</h1>
    </div>
    
    <div class="card">
        <a href="{{path('app_user_index')}}" class="active">
        <span>Dashboard</span></a>
        <a href="{{path('app_user_gamenights')}}#profile">
           <span>My Gamenights</span></a>
        <a href="{{path('app_user_gamenights_part')}}#part"> <span>Attended Gamenights</span></a>
        <a href="{{path('app_user_invites')}}#invite"><span>Invites</span></a>
        <a href="{{path('app_user_change_pw')}}#pw"><span>Change Password</span></a>
        <a href="{{path('app_user_edit')}}#edit"><span>Edit Account</span></a>
    </div>
</div>

<div class="container" id="edit">
    <div class="form">
        <h3>Edit Account</h3>

        {{ include('user/_form.html.twig', {'button_label': 'Update'}) }}

        {{message|raw}}
    </div>
</div>

{% set path_name = path('app_user_gamenights')|split("/") %}

{% if path_name[2] == "my-game-nights" %}
<script>
        document.addEventListener("DOMContentLoaded", function(event) {
            let el = document.getElementById("edit");
            if(el){

                window.scrollTo({
                    top: el.offsetHeight,
                    behavior: 'smooth'
                })
                //location.href = "#profile"
            }
        });
    </script>
{% endif %}

{% endblock %}